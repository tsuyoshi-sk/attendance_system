# PWAテスト用Dockerfile
FROM mcr.microsoft.com/playwright/python:v1.40.0-jammy

# 作業ディレクトリ設定
WORKDIR /app

# Pythonバッファリング無効化（ログ即座表示）
ENV PYTHONUNBUFFERED=1

# 依存関係ファイルをコピー
COPY requirements.txt .

# Pythonパッケージインストール
RUN pip install --no-cache-dir -r requirements.txt

# アプリケーションコードをコピー
COPY . .

# テスト実行用のエントリーポイント
CMD ["pytest", "tests/pwa/", "-v", "--tb=short", "--color=yes"]
